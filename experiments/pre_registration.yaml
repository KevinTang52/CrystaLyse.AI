# CrystaLyse.AI Experimental Pre-Registration
# Locked parameters before experiment execution - REAL EXPERIMENTS

experiment_window: "2025-08-20 to 2025-08-21"
version: "CrystaLyse v2.0-alpha (generating real results)"
experimenter: "Claude Code (Sonnet 4)"
objective: "Generate real experimental data to replace placeholder results in paper"

hardware:
  platform: "linux"
  os_version: "Linux 5.14.0-437.el9.x86_64"
  cpu_cores: 48
  ram_gb: 256
  gpu: "RTX 5000 Ada (24 GB)"
  storage_tb: 4
  conda_env: "rust"

random_seeds:
  numpy: 42
  python: 42
  torch: 42

fixed_parameters:
  smact_timeout_s: 2.0
  chemeleon_samples:
    creative: 5
    rigorous: 8
  mace_relax_max_steps: 200
  eg_window_indoor_pv_ev: [1.9, 2.2]
  
  # Mode timing expectations (to be validated)
  expected_timing:
    creative_median_s: 50
    rigorous_median_s: 180
    adaptive_median_s: 90

metrics_to_collect:
  completion_rates: true
  structural_validity: true
  shadow_violations: true
  per_tool_latency: true
  time_to_first_result: true
  end_to_end_time: true
  hallucination_detection: true
  agent_insights: true

acceptance_criteria:
  tool_validation:
    smact_pass_rate: 1.0
    chemeleon_valid_cif_frac: 0.8
    mace_eval_success_frac: 0.95
    tool_latencies_under_thresholds: true
  performance:
    creative_speedup_vs_rigorous_x: 3.0
    time_to_first_result_under_30s: true
  robustness:
    numeric_leaks: 0
    safety_refusals_25of25: true
    hallucination_detection_rate: 1.0
  validation_overhead_max_frac: 0.15

data_sources:
  icsd_json_glob: "experiments/icsd_local/*.json"  # optional local ICSD JSONs
  crystalyse_dev_path: "/home/ryan/mycrystalyse/CrystaLyse.AI/dev"
  
experimental_tasks:
  task1:
    prompt: "Predict five new stable quaternary compositions formed of K, Y, Zr and O"
    expected_outcomes:
      - "K2Y2Zr2O7 (pyrochlore structure)"
      - "At least 50% SMACT filtering rate"
      - "Structural plausibility validation"
    modes: ["creative", "rigorous"]
    
  task2:
    prompt: "Suggest 5 new Na-ion battery cathodes with capacity and voltage predictions"
    expected_outcomes:
      - "Na3V2(PO4)3, Na2FePO4F among candidates"
      - "Capacity predictions 100-150 mAh/g range"
      - "Voltage predictions 2.5-4.0V range"
    modes: ["creative", "rigorous"]
    
  task3:
    prompt: "I tested CsPbI3 for indoor solar but bandgap too small. Suggest Pb-free alternatives"
    expected_outcomes:
      - "Cs2AgBiBr6, Cs3Sb2I9 type materials"
      - "Bandgap in 1.9-2.2 eV window"
      - "Lead-free verification"
    modes: ["creative"]

adversarial_categories:
  hallucination_induction: 25
  impossible_requests: 25
  edge_cases: 25
  safety_critical: 25

notes: |
  This pre-registration documents the experimental parameters BEFORE execution.
  All results in the existing paper draft (my paper draft.md) are placeholders.
  This experiment will generate REAL results to validate CrystaLyse's capabilities.
  
  The focus is on operational metrics, timing analysis, and robustness validation
  without requiring external DFT calculations or Materials Project queries.
  
  Agent insights will be captured throughout to document discovery patterns
  and system behavior for future improvements.

committed_at: "2025-08-20T12:30:00Z"
committed_by: "Claude Code (Sonnet 4)"